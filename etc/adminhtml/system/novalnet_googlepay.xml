<?xml version="1.0"?>
<!--
/**
 * Novalnet payment extension
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Novalnet End User License Agreement
 * that is bundled with this package in the file LICENSE.txt
 *
 * DISCLAIMER
 *
 * If you wish to customize Novalnet payment extension for your needs,
 * please contact technic@novalnet.de for more information.
 *
 * @category   Novalnet
 * @package    Novalnet_Payment
 * @copyright  Copyright (c) Novalnet AG
 * @license    https://www.novalnet.de/payment-plugins/kostenlos/lizenz
 */
-->
<include xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_include.xsd">
    <group id="novalnetGooglepay" translate="label" type="text" sortOrder="5" showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Google Pay</label>
        <comment>Your customers can checkout using Google Pay from any page in your web store</comment>
        <field id="active" translate="label" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="0">
            <label>Display payment method</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <config_path>payment/novalnetGooglepay/active</config_path>
        </field>
        <field id="title" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Novalnet Title</label>
            <config_path>payment/novalnetGooglepay/title</config_path>
        </field>
        <field id="sort_order" translate="label" type="text" sortOrder="30" showInDefault="1" showInWebsite="1"
               showInStore="1">
            <label>Define a sorting order</label>
            <tooltip>This payment method will be sorted among others (in the ascending order) as per the given sort number</tooltip>
            <validate>validate-length maximum-length-5</validate>
            <frontend_class>validate-number</frontend_class>
            <config_path>payment/novalnetGooglepay/sort_order</config_path>
        </field>
        <field id="enforce_3d" translate="label" type="select" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Enforce 3D secure payment outside EU</label>
            <tooltip>By enabling this option, all payments from cards issued outside the EU will be authenticated via 3DS 2.0 SCA.</tooltip>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <config_path>payment/novalnetGooglepay/enforce_3d</config_path>
        </field>
        <field id="seller_name" translate="label" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Business name</label>
            <comment>The business name is rendered in the Google Pay payment sheet, and this text will appear as PAY 'BUSINESS NAME' so that the customer knows where he is paying to.</comment>
            <config_path>payment/novalnetGooglepay/seller_name</config_path>
        </field>
        <field id="merchant_id" translate="label" type="text" sortOrder="60" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Google Merchant ID</label>
            <validate>required-entry</validate>
            <comment><![CDATA[Please note that Google's merchant identifier is required for processing the payment method in the live environment. Google's merchant identifier is issued after registration with the <a href='https://pay.google.com/business/console/' target='_blank'>Google Pay and Wallet Console</a>. See <a href='https://developers.google.com/pay/api/web/guides/test-and-deploy/request-prod-access' target='_blank'>Request production access</a> for more information about the approval process and obtaining a Google merchant identifier. The registration also involves submitting the integration with sufficient screen-shots, so collect this information by enabling the payment method in test mode. To suppress the validation of this field while saving the configuration, use this test identifier BCR2DN4XXXTN7FSI for testing and submission of your integration to Google.]]></comment>
            <config_path>payment/novalnetGooglepay/merchant_id</config_path>
            <depends>
                <field id="active">1</field>
            </depends>
        </field>
        <field id="payment_action" translate="label" type="select" sortOrder="70" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Payment Action</label>
            <tooltip>Choose whether or not the payment should be charged immediately. Capture completes the transaction by transferring the funds from buyer account to merchant account. Authorize verifies payment details and reserves funds to capture it later, giving time for the merchant to decide on the order.</tooltip>
            <source_model>Novalnet\Payment\Model\Adminhtml\Source\PaymentAction</source_model>
            <config_path>payment/novalnetGooglepay/payment_action</config_path>
        </field>
        <field id="manual_checking_amount" translate="label" type="text" sortOrder="80" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Minimum transaction amount for authorization</label>
            <validate>validate-greater-than-zero validate-digits validate-length maximum-length-15</validate>
            <config_path>payment/novalnetGooglepay/manual_checking_amount</config_path>
            <depends>
                <field id="payment_action">authorize</field>
            </depends>
        </field>
        <field id="order_status" translate="label" type="select" sortOrder="90" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Completed order status</label>
            <tooltip>Status to be used for successful orders</tooltip>
            <source_model>Magento\Sales\Model\Config\Source\Order\Status</source_model>
            <config_path>payment/novalnetGooglepay/order_status</config_path>
        </field>
        <field id="instructions" translate="label" type="textarea" sortOrder="100" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Notification for the buyer</label>
            <tooltip>The entered text will be displayed on the checkout page</tooltip>
            <validate>validate-no-html-tags</validate>
            <config_path>payment/novalnetGooglepay/instructions</config_path>
        </field>
        <group id="googlepay_button_configuration" translate="label" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="110">
            <label>Button Design</label>
            <frontend_model>Magento\Config\Block\System\Config\Form\Fieldset</frontend_model>
            <field id="button_type" translate="label" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Button Type</label>
                <source_model>Novalnet\Payment\Model\Adminhtml\Source\GooglepayButtonType</source_model>
                <config_path>payment/novalnetGooglepay/button_type</config_path>
            </field>
            <field id="button_theme" translate="label" type="select" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Button Theme</label>
                <source_model>Novalnet\Payment\Model\Adminhtml\Source\GooglepayButtonTheme</source_model>
                <config_path>payment/novalnetGooglepay/button_theme</config_path>
            </field>
            <field id="button_height" translate="label" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Button Height</label>
                <comment>Range from 40 to 100 pixels</comment>
                <config_path>payment/novalnetGooglepay/button_height</config_path>
                <validate>validate-digits validate-digits-range digits-range-40-100</validate>
            </field>
            <field id="enabled_pages" translate="label" type="multiselect" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Display the Google Pay button on</label>
                <can_be_empty>1</can_be_empty>
                <tooltip>The selected pages will display the Google Pay button to pay instantly as an express checkout option</tooltip>
                <source_model>Novalnet\Payment\Model\Adminhtml\Source\GooglepayEnabledPages</source_model>
                <config_path>payment/novalnetGooglepay/enabled_pages</config_path>
            </field>
        </group>
    </group>
</include>

